'use strict';!function(a,b){var c=function(){Data.initializeFirebase(),UIElements.cacheElements(),Controls.cacheElements(),Events.bindEvents(),Actions.methods.switchBackgroundVideo(Collections.paths.video_sources,UIElements.$el.background.video_element,UIElements.$el.background.video_source),Actions.methods.displayCopyrightYear(UIElements.$el.footer.copyright),Data.getLinks().then(Actions.methods.parseLinks).then(function(a){UIElements.displayLinks(a,UIElements.$el.linksContainer)})};$(b).ready(c)}(window,document),function(a,b){b.methods={switchBackgroundVideo:function(a,b,c){var d=Math.floor(Math.random()*a.length);c.attr('src',a[d]),b.load()},displayCopyrightYear:function(a){a.html('&copy;'+function(){return new Date}().getFullYear())},parseLinks:function(a){var b=[],c=[];return a.docs.forEach(function(a){b.push(a.data())}),c=b.sort(function(a,b){return a.weight<b.weight?-1:a.weight>b.weight?1:0})}}}(window,window.Actions=window.Actions||{}),function(a,b){b.trackOutboundLink=function(a){gtag('event','click',{event_category:'outbound',event_label:a,transport_type:'beacon',event_callback:function(){}})}}(window,window.Analytics=window.Analytics||{}),function(a,b,c){c.cacheElements=function(){c.$el={bg_video_switch:$('[data-ctl=bgvideoswitch]')}}}(window,document,window.Controls=window.Controls||{}),function(a,b,c){c.Model=function(){var a={},b=function(a,b,c){var d=new Promise(function(d,e){var f=new XMLHttpRequest,g=b,h=0,i=void 0;if(c&&('POST'===a||'PUT'===a)){g+='?';for(i in c)c.hasOwnProperty(i)&&(h++&&(g+='&'),g+=encodeURIComponent(i)+'='+encodeURIComponent(c[i]))}f.open(a,g),f.send(),f.onload=function(){f.status>=200&&f.status<300?d(f.response):e(f.statusText)},f.onerror=function(){e(f.statusText)}});return d};return a.httpRequest=function(a){return{get:function(c){return b('GET',a,c)},post:function(c){return b('POST',a,c)},put:function(c){return b('PUT',a,c)},'delete':function(c){return b('DELETE',a,c)}}},a}}(window,document,window.Core=window.Core||{}),function(a,b,c){c.initializeFirebase=function(){var a={apiKey:'AIzaSyBErwJPIqN7K-gfcUMisC594dZEHcjnzkY',authDomain:'kratner-firebase.firebaseapp.com',databaseURL:'https://kratner-firebase.firebaseio.com',projectId:'kratner-firebase',storageBucket:'',messagingSenderId:'386299743486'};firebase.initializeApp(a),c.database=firebase.database();var b=firebase.firestore(),d={timestampsInSnapshots:!0};b.settings(d),c.firestore=b,c.collection=c.firestore.collection('links')},c.getLinks=function(){return c.collection.get()}}(window,document,window.Data=window.Data||{}),function(a,b){b.bindEvents=function(){UIElements.$el.link.on('click',function(a){Analytics.trackOutboundLink(a.target.href)}),Controls.$el.bg_video_switch.on('click',function(a){Actions.methods.switchBackgroundVideo(Collections.paths.video_sources,UIElements.$el.background.video_element,UIElements.$el.background.video_source)})}}(window,window.Events=window.Events||{}),function(a,b){b.paths={video_sources:['img/20181215_154218.mp4','img/20190103_151234.mp4','img/pb_201811221400.mp4','img/pb_201811261530.mp4','img/pb_201811261532.mp4','img/pb-boardwalk-2018-11-26.mp4']}}(window,window.Collections=window.Collections||{}),function(a,b){b.cacheElements=function(){b.$el={background:{video_element:$('#video-background'),video_source:$('#video-background > source')},footer:{copyright:$('.copyright')},link:$('.gtag'),linksContainer:$('#links-container')}},b.displayLinks=function(a,b){b.html('').append('<div class="link-padding"></div>'),a.forEach(function(a){var c='undefined'==typeof a.icon?'':'<span class="icon-'+a.icon+'"></span>';b.find('.link-padding').append('<p><a href="'+a.href+'" class="'+a['class']+'" title="'+a.title+'" target="'+a.target+'">'+a.text+' '+c+'</a></p>')})}}(window,window.UIElements=window.UIElements||{});